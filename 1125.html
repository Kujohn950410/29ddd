<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>ç°¡æ˜“éº»å°‡è½ç‰Œè¨ˆç®—æ©Ÿ</title></head>
<body>

<h2>ğŸ€„ ç°¡æ˜“éº»å°‡è½ç‰Œè¨ˆç®—æ©Ÿ</h2>

<p>è«‹è¼¸å…¥æ‰‹ç‰Œï¼ˆä¾‹å¦‚ï¼š1è¬ 2è¬ 4è¬ 5ç­’ 7æ¢ï¼‰</p>
<input type="text" id="tiles" size="40">

<br><br>
<button onclick="simpleTing()">è¨ˆç®—è½ç‰Œ</button>

<p id="result"></p>

<script>
// æ‰€æœ‰è¬ç­’æ¢çš„ç°¡å–®é›†åˆ
let numbers = ["1","2","3","4","5","6","7","8","9"];
let suits = ["è¬","ç­’","æ¢"];

function simpleTing(){
    let text = document.getElementById("tiles").value.trim();
    let list = text.split(" ");

    let ting = [];

    // æ‰¾æ‰€æœ‰è¬ç­’æ¢
    for(let s of suits){
        let have = [];

        // æŠŠè©²èŠ±è‰²çš„æ•¸å­—æŒ‘å‡ºä¾†
        for(let tile of list){
            if(tile.endsWith(s)){
                have.push(tile[0]);
            }
        }

        // æª¢æŸ¥ç›¸é„°æ•¸å­—æ˜¯å¦ç¼ºå°‘
        for(let i=0;i<numbers.length;i++){
            let n = numbers[i];

            // è½åˆ»å­ï¼šæœ‰å…©å¼µä¸€æ¨£çš„ â†’ è½ç¬¬ä¸‰å¼µ
            let sameCount = have.filter(x => x === n).length;
            if(sameCount === 2){
                ting.push(n + s);
            }

            // è½é †å­ï¼šä¾‹å¦‚æœ‰ 1è¬,3è¬ â†’ è½ 2è¬
            if(have.includes(numbers[i-1]) && have.includes(numbers[i+1])){
                ting.push(n + s);
            }

            // è½é‚Šå¼µã€åå¼µ
            if(have.includes(numbers[i-1]) && have.includes(n) && !have.includes(numbers[i+1])){
                ting.push(numbers[i+1] + s);
            }
            if(have.includes(n) && have.includes(numbers[i+1]) && !have.includes(numbers[i-1])){
                ting.push(numbers[i-1] + s);
            }
        }
    }

    // å»é™¤é‡è¤‡
    ting = [...new Set(ting)].filter(x => x !== "undefinedè¬" && x !== "undefinedç­’" && x !== "undefinedæ¢");

    if(ting.length === 0){
        document.getElementById("result").innerHTML = "âŒ ç›®å‰æ²’æœ‰è½ç‰Œï¼ˆç°¡æ˜“åˆ¤æ–·ï¼‰";
    } else {
        document.getElementById("result").innerHTML =
            "ğŸ‰ ä½ å¯èƒ½åœ¨è½ï¼š<b>" + ting.join("ã€") + "</b>";
    }
}
</script>

</body>
</html>
